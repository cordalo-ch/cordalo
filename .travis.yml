env:
  global:
  - secure: qKj6LXIBkb67m54OteHg8dVSfL2o9K3/4zujx9kq0u3tTdK/2Qo9zJKjsK9iH0G4xqcQr1I1FAJ61v7LXVPZcmHesmAJg0+VrVhs584WqLaDD04FXGOayZlLiBQ3Tdgzj1qBGrHOvevQiASDZcpZe8ZERkaDSXpLyl2kfaJ2T7+bnMdKXhXaZzWroQZZDVRFVKAnCW/+GawDCuCuDr0kPVNQDH8FIU/lr9miwjC50RJ5ZC+OrLWftQz2YEBh/2QdCzEEgjir9De96IDg0BpflKwlAnojmkbALRwTfkGfUPiVnFuCxv/8gegHNJJlgel324+FP3D7r532KvqzssAi9cWlIQwVmbWj73LoN0jO17hGVWMBoIP88w1+sb2O2MPdEojz30P4yyRRh8KYgeqk2ldO27ahmODmg18z3HuQBkEYp32l2KLgCu0T+smpLwvDaMqgE5aK8e0RjVcJuRIbDp0EfhGfYgyoggJCF2QLIqGRmPuDfCCe4rhWB9B9ameM3etJtEo7UIvKuLyuN6CTaTF56GvyCcBfxviRW+HrepXcnio5iHC2+IUagCPHc96iFeLW0ich7g/FU3qxP6CWCD+1IIO4MtITS1PUG+fxYDcH2nsfEKeyLz8Rh1qxcYfSI47aSmLxNaCxjt+ArPDfdEws0PeAdVZmDdIKNJ5RGaA=
  - secure: NJ24DQURhWWBF2S72ETiXewBnHbgwDYIPH9Ch3wCl7WSMIWTs9sTyCNopmcoPDhLVerc83p+NKDbcEWaqDzLYCEZ/yQKUH+ZvArr0P8/FgbdTPBV6XeJBsE4sSkhUhpTLbn46aWUmS70//+982QY2zp+EspKKuMLoZeuDoszH08LQ0n4e1hqgPeWz9uh/aTV+4XOAtGMGfvukAtuV/QeQOiA78GHWprtMBXJOfgoS1q94ruOGDjNEFcpEIHk+MnKsRSeBZfQxK2P+D7MXCO+LCf4WDOOXSbpx7q7glFygCVVQuDlQahnGs7GQ3TWCsgxKC/0PrnlKhlbZ265znvmc+GJKRty/YmPeiHri+aVTWTA4rFh8eVnFlTXNuQdwCjbKPQw+2V7e93ZEeuBSr9ZjFGebzGQOVdTcoZbJmNmFsTwGh2A3uDogcDIjn7LBnGf6abwb5yfj4ym4fq2rt5x2ArG5MQ3QaKqHIaWfNl5jCykN2KPqGAZCIzMkWFwdMF3tL1ke6hOWAMk3JCja693k4Tr7KwG5bJ0c3kOhlRJVyFHWO8WJxx+o6ckpQznu62xmWJn1sc/+a3Nx+SIKvnyXUOEtpQFBkwZrlnFnTii9xlooPSVn2jtksONKpTEPsrmM04BTyykMEdBcbv4f/OQfH9A0xmpEKVy2koaE/jf5Y8=
  - secure: l6c+pJ7JHtFM21AO0Ax5hv/Z5qlvz0iXVR71TVC/CIgSw+Sk0twI8xwgOkfriSc3vMcaRKrzVLjF9Gv6LAl9IABop641ZFDMz/IljliSsQoBbdMP3f4VfVYZlT2P+Yu0JvQZcGrd8ACYcGBWpJhPt7k/1qqwV/DHLoQ26M7vPxF5CxzwTNCLDA3JA7g5rvqSXXgiWRXeu2mYhHeukw4w7RsIQuUWflgd5y55MGamF+4AMMPLxdBJlS3paOyf/HA9d0HpPWLuKBUmcNObHAGncrbjyTNpI930rKGSMWb1rRCBts5SKq3n/QBwaTq5RxNrWud0wGCZcRdoAyiB+wK4s+62jVk2b6N1t3hXt/I/ajhCkdfHbx08oiB1sJ4kie9PEVn8rUmtsNZLlo78UowivOzFsaPjbmjS74X1UeJMb6lHCiCn8kgjuCsDQx4qQCy/RBJFm9rotVw5isRlIlmJWyedlX6AmuMfTvhyEB2sxWiTrNyyoDKJwRTPZxEzjsTZOfSeHC1SE+IKCUMgAfFBSccNi+rJMPi/ZQJr/Z3QGUSuWfr1oIhVdSEuDeAjSZkDf1LyfeRbYadebESPvAz1W5AdyQaqI90T0ZWi+BGCQ344lU0xD6XS0NdnY7591bBmDXhmOrdDgXPuZWVKzus4byV1UFV6B4Ihi4mLrlBtVQ0=
  - secure: duOzPzZvPM7zEGIc9RvaX77LlT27JQyDq1Qv/bhnTfeutoMfFB+qUppryqs+v5ViTplWYGPtcjaLk8fWPQDNx6c18Geoayk9VliIPdfZOWqMffsAybHE8UVkndlTC0V6bStBSEGk0EfpBrgvlC2fw9+pPhxV/o9z6A0lnY9SNqhxu1Bu2k7QOgKCNdewky2XfZ1sAGvnJgEGgJjT6oVoGp0CyHttYYkJR+dnjYgkkwVtzTVBR6IhxU2AGCWEUS25o9ktdYFbFd7AqEYkDHtLZj+pdcdIoVDHlcVzf6KR1e+zW5XuneZr0Hh3J4r57G5/YcMf6cw+/aW1bhdO6nf5LAZFYetggMaYvGPoWYuRqsx8rsDbrqMtiOSI712m8AXNIa68JqpARccyUcTfcxoCdfHaxjzjo9x2Iy0X/MdY8yiVjRcgZAeozHHzLofYRPoJlawFOxZoV6jOQSq5wMIyMqbQLXnVqfviej8splBkJKSE30J3nbgx21QJKM9ctZYGSYKklQvOsL5UhT0R1FsWD2Zy6b1lo2XhxkeJ1meqPsvSsdItW3HWJuA1OQ7xSPTR4mkJ6di5JqLwJYt1+eqQARDpSKJhXOMzF+ZLiyuLJ62uf1MUekYBacezDkEn4d+xgjj6GQfisZ4qhiVuj1TAw2yZuxNv6xVz3GbKtrBvUJE=
  - secure: P7/0gV/SiSSe5oOJ6IHiunKsSSs+qP5Jv5GqFumJro/VPGz94pvboEap1Nm9WMbEytasguvfAXmdtRWSHPI63DdfSKAuG4AIAQm760MZ5Jk7ZvnKdp4hvtTo0upBx3FLP0TFa4w7OXwxZ8zj+jH0D+pg7Nu2B3l5KIAtkqaFddJCqTw9LzP1BhwTMBDzKm65KDop65d5ZPKRLs1qWuF9nPBlZuVgSN0QS8EHILjCdGNz8bu8lwPie9RgTI1fW6iL/+qUFzWilBKvCRa2QFRXjw8QzdcM3vxNyUDuU0I+NsiigoaCacwX4WV+kX9+9GyoFyB6fAdAme2FsmYJfI887h88WIUEC8tDpDbY/SgGeuCUOVbikzKOx7SCBEpPTwhJilPO3fafh4BIImLVzd33WcVYd/UsYKdnY3g5vseyE75k7G/CXRHLxCNYTfjzQwbi3b7p2Zn93jvFyBeeuRaYnEf9a92vGcYPAA7+WSATrCOl6kobmIjLiSWh0kAHUcuH4rLBIRpXLaIkeEE831SBK/HGm/0HS10cNZohMJNGzDn/QqCqmDPlLkUCe+liQGbcX6QX/x102pDQoH8BXBWLeI3j0z4vIlNtmY7FtgN89UkzatrUokD5iiwJlWHlYkyrTwxMV/QJS4/HI3PD0h2cQMwP4s9TyC3N25trm654z2w=
os: linux
dist: xenial
language: java
jdk: openjdk8
install:
- "./gradlew jar -x signArchives"
script:
- "./gradlew --info check test"
- "./gradlew assemble -x signArchives"
after_success:
- "./deploy.sh"
before_deploy:
  - export project_version=$(gradle properties -q | grep "^version:" | awk '{print $2}')
deploy:
  provider: releases
  api_key:
    secure: m4W77KdzMq8RL6SQ/JMnfxoxETh3UEZBiB/Fx1yRfi0mILVZ7+HLtFYOlgnM87hE8rzTZyQuDmz287Pcs4vOAih84js6N1bmHDGYkZ7Y/l+HyWWBa0t5f1q5pP0xK5gl3UuLITmUSgdq6E5scgveY8lFPkuwkzNXK/OLIGNBrnaZboEcjzNFL5AVqHwLsh57fFgnyuAFzfW5eIG5dmBzzCLmIDlvjneCHoipn0xX9jynQteJMAckkPU3rGAqfOxWySsPnNNYSH/jW7FxpHfpXq0wACLwkZlhbjYcPe3v92k4WoPGfJn3AUef1XrhhmzSxP4WEAcEBeMbgcOQCmZyZk2GUzpgFEdaztXlyGUxRtCI3v8OZPPBghuEzDPWvwof6ecNEIilKNad62wltWrZnFQANol+U41ECL9oIecyDpM9q9uVxRdEW/CH90PBG3xVY3fJzTDmPZ/psin6NXKsbkPGCOg4IyT06TEpwt8D0YmVrizzRDpAtfGh2eeVsaeHGau8HKertOq4qymalhq74T7HvKEOxvob+x4vDeBLaB/p7xcxiaYUCFihxhiPEQwvibnNsfNKEsAqZfaZzHcxX27A+VooJ5ruEAqGtOCvQ62Nq1xo63VDokOqJKr/VLtaYBYQ7FLbYpZl0FyNqnBejnaIVbMtiMh/jUu4DohuDVM=
  file: build/libs/cordalo-$project_version.jar
  on:
    repo: cordalo-ch/cordalo
  name: $project_version
